# SameDaySuits Pattern Factory - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# =============================================================================
# SECURITY (REQUIRED)
# =============================================================================

# JWT Secret Key - MUST be at least 32 characters
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET=your-jwt-secret-at-least-32-characters-change-this

# Encryption Key for sensitive data - MUST be at least 32 characters
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
ENCRYPTION_KEY=your-encryption-key-at-least-32-characters-change-this

# Optional: API Key for service-to-service authentication
# API_KEY=your-api-key-for-services

# =============================================================================
# DATABASE
# =============================================================================

# Supabase URL (local or cloud)
SUPABASE_URL=http://localhost:54321

# Supabase Anonymous Key (for client-side operations)
SUPABASE_KEY=your-supabase-anon-key

# Supabase Service Role Key (for server-side operations - keep secret!)
# SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# =============================================================================
# CORS & SECURITY
# =============================================================================

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=https://localhost,http://localhost:3000,http://localhost:8000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable authentication (set to false for development only)
AUTH_ENABLED=true

# Enable/disable encryption of sensitive data
ENCRYPTION_ENABLED=true

# Enable/disable audit logging
AUDIT_ENABLED=true

# =============================================================================
# SCALABILITY (Phase 2)
# =============================================================================

# Redis URL for queue and caching
# Format: redis://[username:password@]host:port/database
REDIS_URL=redis://localhost:6379/0

# Enable async order processing
# When true: Orders are enqueued to Redis and processed by workers (~50ms response)
# When false (default): Orders are processed synchronously (~45s response)
# Recommendation: Start with false, enable after workers are deployed
ASYNC_PROCESSING=false

# =============================================================================
# LOGGING
# =============================================================================

# Audit log file path
AUDIT_LOG_PATH=logs/audit.log

# Store audit logs in database as well
AUDIT_TO_DATABASE=true

# =============================================================================
# ENVIRONMENT
# =============================================================================

# Environment: development, staging, production
ENVIRONMENT=development

# =============================================================================
# OPTIONAL: JWT CONFIGURATION
# =============================================================================

# JWT Algorithm (default: HS256)
# JWT_ALGORITHM=HS256

# Access token expiration in hours (default: 24)
# JWT_EXPIRATION_HOURS=24

# Refresh token expiration in days (default: 7)
# JWT_REFRESH_EXPIRATION_DAYS=7

# =============================================================================
# OPTIONAL: LOCAL SUPABASE (if running locally)
# =============================================================================

# PostgreSQL password for local Supabase
# POSTGRES_PASSWORD=postgres

# =============================================================================
# MONITORING (Phase 3 - Optional)
# =============================================================================

# Grafana admin credentials
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme-strong-password
GRAFANA_ROOT_URL=http://localhost:3000

# SMTP configuration for email alerts
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_FROM=alerts@samedaysuits.com
# SMTP_USERNAME=your-smtp-username
# SMTP_PASSWORD=your-smtp-password

# Alert email recipients
# ALERT_EMAIL=ops@samedaysuits.com
# CRITICAL_ALERT_EMAIL=oncall@samedaysuits.com

# Slack webhook for alerts (create at https://api.slack.com/messaging/webhooks)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# =============================================================================
# CIRCUIT BREAKER (Phase 3 - Optional)
# =============================================================================

# Circuit breaker configuration
# CIRCUIT_BREAKER_FAIL_MAX=3
# CIRCUIT_BREAKER_RESET_TIMEOUT=30
